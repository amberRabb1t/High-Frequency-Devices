f0 = 10^9;
N = 201;
f = 0:(4*f0/N):(4*f0);
X2 = -(1i*10^12)./(4*pi*f);
ZL = 100 + X2;
b1 = 0.4*pi*(f/f0);
b2 = 0.26*pi*(f/f0);
b3 = 0.2*pi*(f/f0);
X1 = (-1i*10^12)./(5.4*pi*f);
Z1 = 50*(ZL + 1i*50*tan(b1))./(50 + 1i*ZL.*tan(b1));
Z2 = 1i*50*tan(b2);
Z3 = (Z1.*Z2)./(Z1+Z2);
Z4 = 50*(Z3 + 1i*50*tan(b3))./(50 + 1i*Z3.*tan(b3));
Zol = (Z4.*X1)./(Z4+X1);
G = (Zol-50)./(Zol+50);
Gdb = 20*log10(abs(G));
plot(f,abs(G));
xlabel('Frequency (Hz)');
ylabel('Magnitude of Reflection Coefficient');
figure;
plot(f,Gdb);
xlabel('Frequency (Hz)');
ylabel('Magnitude of Reflection Coefficient (dB)');